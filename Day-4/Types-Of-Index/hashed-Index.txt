Hashed Index:

ðŸ”¹ Hashed Index (MongoDB)
A hashed index stores the hash value of a field, not the actual value
Field values are converted into random-looking numbers
Example:
"userId": "A001"
hash("A001") â†’ 2398472398
The hash value is a fixed-size number generated from the field value.

> Why hashing? Hashing is used to:
Distribute values uniformly
Speed up equality-based searches
Support sharding
Hashed indexes are not meant for sorting or range queries.

syntax:
db.collection.createIndex({ fieldName: "hashed" })

Example:
{ userId: "A001" }
db.users.createIndex({ userId: "hashed" })
"A001" â†’ 2398472398472398.  This hash value is what gets stored in the index.

> How Search Works:
1. User queries :  db.users.find({ userId: "A001" })
2. MongoDB:
Hashes "A001"
Looks for the hash in the index
3. If hash matches:
Corresponding document is returned.

What Hashed Index is GOOD for?
Equality searches (field = value)
Uniform data distribution
Sharded collections

What Hashed Index is NOT good for?
Range queries (>, <, between)
Sorting
Prefix matching
ex: { userId: { $gt: "A001" } }

| Feature          | Normal Index   | Hashed Index  |
| ---------------- | ------------   | ------------  |
| Stores           | Actual value   | Hash value    |
| Equality search  | âœ…            | âœ…            |
| Range queries    | âœ…            | âŒ            |
| Sorting          | âœ…            | âŒ            |
| Sharding support | âŒ            | âœ…            |


Properties of a Hash:

1. Same input â†’ always same output
Hash functions are deterministic
The same value will always produce the same hash
Example:
"A001" â†’ 239847239
"A001" â†’ 2398472398

2. Looks random
Hash values appear random
Similar inputs do not generate similar outputs
Example:
"A001" â†’ 239847239
"A002" â†’ 9823749823
3. No ordering
Hash values do not preserve order
Cannot determine which hash is bigger or smaller
âŒ Not suitable for:
Sorting
Range queries (<, >, between)

4. Helps distribute values equally
Hashing spreads values uniformly
Prevents data from clustering in one place